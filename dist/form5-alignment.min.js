/*!
  form5-alignment v1.1.7
  Written by Form5
  http://www.form5.is
  hello@form5.is
  License: MIT
*/
(function(){"use strict";window.form5=window.form5||{},window.form5.alignment={$window:$(window),debug:!1,runSquare:!1,runEqualize:!1,runVerticalCenter:!1,runFullWindowHeight:!1,verticalAbsolute:{"margin-top":"auto","margin-bottom":"auto",position:"absolute",top:"0",bottom:"0"},verticalStatic:{position:"","margin-top":"","margin-bottom":"",top:"",bottom:"",height:""},square:function(a){this.runSquare=a;var b=window.innerWidth||this.$window.width();$("["+a+"]").each($.proxy(function(c,d){var e=$(d),f=e.data("options"),g=e.outerWidth();"undefined"==typeof f&&(e.data("options",this.parceOptions(e.attr(a))),f=e.data("options"),e.attr(a,"")),this.debug&&console.log("square => element,options",d,f),e.css("height",""),"number"==typeof f.above&&b<f.above||"number"==typeof f.below&&b>f.below||("number"==typeof f.multiply&&(g=(isNaN(f.multiply)?1:f.multiply)*g),"number"==typeof f.subtract&&(g-=isNaN(f.subtract)?0:f.subtract),"number"==typeof f.add&&(g+=isNaN(f.add)?0:f.add),e.css("height",g),$(document).trigger("square",{type:"square",element:d,options:f,newHeight:g}))},this))},verticalCenter:function(a){this.runVerticalCenter=a;var b=window.innerWidth||this.$window.width();$("["+a+"]").each($.proxy(function(c,d){var e=$(d),f=e.parent(),g=e.data("options"),h=0;"undefined"==typeof g&&(e.data("options",this.parceOptions(e.attr(a))),g=e.data("options"),e.attr(a,"")),this.debug&&console.log("verticalCenter => element,options",d,g),e.css(this.verticalStatic),"number"==typeof g.above&&b<g.above||"number"==typeof g.below&&b>g.below||("static"===f.css("position")&&f.css("position","relative"),h=e.outerHeight(),e.css(this.verticalAbsolute).css("height",h),$(document).trigger("vertical-center",{type:"vertical-center",element:d,options:g,newHeight:h}))},this))},fullWindowHeight:function(a){this.runFullWindowHeight=a;var b=window.innerHeight||this.$window.height(),c=window.innerWidth||this.$window.width();$("["+a+"]").each($.proxy(function(d,e){var f=$(e),g=f.data("options");"undefined"==typeof g&&(f.data("options",this.parceOptions(f.attr(a))),g=f.data("options"),f.attr(a,"")),this.debug&&console.log("fullWindowHeight => element,options",e,g);var h="undefined"!=typeof g.force?"height":"min-height";f.css(h,""),"number"==typeof g.above&&c<g.above||"number"==typeof g.below&&c>g.below||("number"==typeof g.multiply&&(b=(isNaN(g.multiply)?1:g.multiply)*b),f.css(h,b),$(document).trigger("full-window-height",{type:"full-window-height",element:e,options:g,windowHeight:b}))},this))},equalize:function(a){this.runEqualize=a;var b=window.innerWidth||this.$window.width();this.runVerticalCenter&&$("["+this.runVerticalCenter+"]").css(this.verticalStatic),$("["+a+"]").each($.proxy(function(c,d){var e=$(d),f=e.find("[equalize]"),g=e.data("options");if("undefined"==typeof g&&(e.data("options",this.parceOptions(e.attr(a))),g=e.data("options"),e.attr(a,"")),this.debug&&console.log("equalize => element,options",d,g),f.css("height",""),!("number"==typeof g.above&&b<g.above||"number"==typeof g.below&&b>g.below)){var h=this.equalizeMax(f);f.css("height",h),$(document).trigger("equalize",{type:"equalize",element:d,columns:f,options:g,equalizeMax:h})}},this))},equalizeEvents:function(){},equalizeMax:function(a){if("object"!=typeof a)return 0;for(var b=0,c=0,d=0;d<a.length;d++)b=$(a[d]).outerHeight(),b>c&&(c=b);return c},parceOptions:function(options){return"undefined"==typeof options||""===options?{}:(options=JSON.stringify(eval("("+options+")")),options=JSON.parse(options))}},$(window).on("alignment",function(){window.form5.alignment.fullWindowHeight("full-window-height"),window.form5.alignment.equalize("equalize-wrap"),window.form5.alignment.verticalCenter("vertical-center"),window.form5.alignment.square("square")}),$(window).on("resize",function(){var a;clearTimeout(a),a=setTimeout(function(){$(window).trigger("alignment")},200)}).trigger("resize")}).call(this);